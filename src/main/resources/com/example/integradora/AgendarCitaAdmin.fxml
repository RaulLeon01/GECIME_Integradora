<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane prefHeight="720.0" prefWidth="1280.0" stylesheets="@../styles/agendarCitaAdmin.css" xmlns="http://javafx.com/javafx/17.0.12" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.example.integradora.AgendarCitaAdminController">

    <!-- Top Bar -->
    <top>
        <Label alignment="CENTER" maxWidth="Infinity" prefHeight="80" styleClass="header-label" text="SISTEMA GESTOR DE CITAS MÉDICAS | GECIME" />
    </top>

    <!-- Main Content -->
    <center>
        <HBox alignment="TOP_LEFT" fillHeight="true" spacing="0" stylesheets="@../styles/agendarCitaAdmin.css">

            <!-- Menú lateral -->
            <VBox prefWidth="160" spacing="10" styleClass="side-menu">
                <padding>
                    <Insets bottom="20" left="15" right="15" top="30" />
                </padding>
                <Button fx:id="btnPerfil" onAction="#irAVistaPerfil" styleClass="menu-button" text="Perfil" />
                <Button fx:id="btnAgendadas" onAction="#irAVistaAgendadas" styleClass="menu-button" text="Citas Agendadas" />
                <Button onAction="#irAVistaHistorial" styleClass="menu-button" text="Historial" />
                <Button fx:id="btnAgendar" onAction="#irAVistaAgendar" styleClass="menu-button" text="Agendar" />
                <Button fx:id="btnPacientes" onAction="#irAVistaPacientes" styleClass="menu-button" text="Pacientes" />
                <Button fx:id="btnDoctores" onAction="#irAVistaDoctores" styleClass="menu-button" text="Doctores" />
                <Button onAction="#irAVistaConsultorios" styleClass="menu-button" text="Consultorios" />
                <Pane prefHeight="200.0" prefWidth="200.0" />
                <Button fx:id="btnCerrarSesion" onAction="#cerrarSesion" styleClass="logout-button" text="Cerrar sesión" />
            </VBox>

            <!-- Área de contenido principal autoajustable -->
            <StackPane styleClass="content-pane" HBox.hgrow="ALWAYS">
                <ScrollPane fitToWidth="true" hbarPolicy="NEVER" styleClass="scroll-pane">
                    <!-- StackPane agregado para centrar horizontalmente -->
                    <StackPane alignment="TOP_CENTER">
                        <VBox alignment="TOP_CENTER" maxWidth="800.0" styleClass="centered-content">
                            <padding>
                                <Insets bottom="30" left="30" right="30" top="30" />
                            </padding>

                            <Label styleClass="form-title" text="Agendar Nueva Cita (Administrador)" />

                            <!-- Formulario centrado -->
                            <VBox alignment="CENTER" spacing="15" styleClass="form-container">
                                <GridPane alignment="CENTER" hgap="15" vgap="10">
                                    <columnConstraints>
                                        <ColumnConstraints halignment="RIGHT" minWidth="150" />
                                        <ColumnConstraints fillWidth="true" minWidth="250" />
                                    </columnConstraints>

                                    <!-- Fila 1: ID Paciente -->
                                    <Label styleClass="form-label" text="ID del Paciente:" GridPane.rowIndex="0" />
                                    <TextField fx:id="idPacienteField" promptText="Ingrese ID del paciente" styleClass="form-textfield" GridPane.columnIndex="1" GridPane.rowIndex="0" />

                                    <!-- Fila 2: Doctor -->
                                    <Label styleClass="form-label" text="Seleccione Doctor:" GridPane.rowIndex="1" />
                                    <ComboBox fx:id="comboDoctor" promptText="Doctor disponible" styleClass="form-combo" GridPane.columnIndex="1" GridPane.rowIndex="1" />

                                    <!-- Fila 3: Fecha -->
                                    <Label styleClass="form-label" text="Seleccione Fecha:" GridPane.rowIndex="2" />
                                    <DatePicker fx:id="fechaPicker" styleClass="form-datepicker" GridPane.columnIndex="1" GridPane.rowIndex="2" />

                                    <!-- Fila 4: Hora -->
                                    <Label styleClass="form-label" text="Seleccione Hora:" GridPane.rowIndex="3" />
                                    <ComboBox fx:id="comboHora" promptText="Ej: 09:00" styleClass="form-combo" GridPane.columnIndex="1" GridPane.rowIndex="3" />

                                    <!-- Fila 5: Motivo -->
                                    <Label styleClass="form-label" text="Motivo o malestar:" GridPane.rowIndex="4" />
                                    <TextArea fx:id="malestarArea" styleClass="form-textarea" wrapText="true" GridPane.columnIndex="1" GridPane.rowIndex="4" />

                                    <rowConstraints>
                                        <RowConstraints />
                                        <RowConstraints />
                                        <RowConstraints />
                                        <RowConstraints />
                                        <RowConstraints />
                                    </rowConstraints>
                                </GridPane>

                                <!-- Botón de acción -->
                                <Button fx:id="btnAgendarCita" onAction="#agendarCita" styleClass="action-button" text="Agendar Cita" GridPane.columnSpan="2" />
                            </VBox>
                        </VBox>
                    </StackPane>
                </ScrollPane>
            </StackPane>
        </HBox>
    </center>
</BorderPane>
